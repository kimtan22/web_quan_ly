<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register with Stepper</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css"
    />
    <link href="/web_quan_li/css/register.css" rel="stylesheet" />
    <!-- Tệp CSS riêng -->
  </head>
  <body>
    <div class="container mt-5">
      <div class="row justify-content-center">
        <div class="col-md-8">
          <div class="card shadow">
            <div class="card-body">
              <div class="stepper-wrapper mb-4">
                <div class="stepper-item active" id="step1-indicator">
                  <div class="step-counter">1</div>
                  <div class="step-name">Tài khoản</div>
                </div>
                <div class="stepper-item" id="step2-indicator">
                  <div class="step-counter">2</div>
                  <div class="step-name">Thông tin người dùng</div>
                </div>
                <div class="stepper-item" id="step3-indicator">
                  <div class="step-counter">3</div>
                  <div class="step-name">Thông tin liên hệ</div>
                </div>
              </div>

              <form
                id="registerForm"
                action="/web_quan_li/prosess_register.php"
                method="POST"
              >
                <!-- Step 1 -->
                <div class="step" id="step1">
                  <h4 class="mb-4">Thiết lập tài khoản</h4>
                  <div class="mb-3">
                    <label class="form-label">ID</label>
                    <input
                      type="text"
                      class="form-control"
                      id=" new_username"
                      name="username"
                      required
                    />
                  </div>
                  <div class="mb-3">
                    <label class="form-label">Password</label>
                    <input
                      type="password"
                      class="form-control"
                      id="new_password"
                      name="password"
                      required
                    />
                  </div>
                  <div class="mb-4">
                    <label class="form-label">Câu Hỏi Bảo mật</label>
                    <select
                      class="form-select mb-2"
                      id="security_question"
                      name="security_question"
                      required
                    >
                      <option value="">Lựa Chọn Câu Hỏi</option>
                      <option value="pet">
                        Thú cưng đầu tiên của bạn tên là gì?
                      </option>
                      <option value="city">Thành phố bạn sinh ra</option>
                      <option value="mother">
                        Tên thời trẻ của mẹ bạn là gi?
                      </option>
                    </select>
                    <input
                      type="text"
                      class="form-control"
                      placeholder="Your answer"
                      id="security_answer"
                      name="security_answer"
                      required
                    />
                  </div>
                </div>

                <!-- Step 2 -->
                <div class="step d-none" id="step2">
                  <h4 class="mb-4">Thông Tin Người Dùng</h4>
                  <div class="row">
                    <div class="col-md-6 mb-3">
                      <label class="form-label">Họ</label>
                      <input
                        type="text"
                        class="form-control"
                        id="first_name"
                        name="first_name"
                        required
                      />
                    </div>
                    <div class="col-md-6 mb-3">
                      <label class="form-label">Tên</label>
                      <input
                        type="text"
                        class="form-control"
                        id="last_name"
                        name="last_name"
                        required
                      />
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6 mb-3">
                      <label class="form-label">Ngày tháng năm sinh</label>
                      <input
                        type="date"
                        class="form-control"
                        id="birth_date"
                        name="dob"
                        required
                      />
                    </div>
                    <div class="col-md-6 mb-3">
                      <label class="form-label">giới tính</label>
                      <select class="form-select" id="gender" name="gender" required>
                        <option value="">Lựa chọn giới tính</option>
                        <option value="male">Nam</option>
                        <option value="female">Nữ</option>
                        <option value="other">Khác</option>
                      </select>
                    </div>
                  </div>
                </div>

                <!-- Step 3 -->
                <div class="step d-none" id="step3">
                  <h4 class="mb-4">Thông Tin Liên Hệ</h4>
                  <div class="mb-3">
                    <label class="form-label">Địa Chỉ Email</label>
                    <input
                      type="email"
                      class="form-control"
                      id="email"
                      name="email"
                      required
                      
                    />
                    
                  </div>
                  <div class="mb-3">
                    <label class="form-label">Số Điện Thoại</label>
                    <input
                      type="tel"
                      class="form-control"
                      id="phone_number"
                      name="phone"
                      required
                    />
                  </div>
                  <div class="mb-3">
                    <label class="form-label">Khoa Đang Theo Học</label>
                    <input
                      type="major"
                      class="form-control"
                      id="major"
                      name="khoa"
                      required
                    />
                  </div>
                  <div class="mb-3">
                    <label class="form-label">Mã Số Sinh Viên</label>
                    <textarea
                      class="form-control"
                      rows="1"
                      id="student_id"
                      name="mã sinh viên"
                      required
                    ></textarea>
                  </div>
                </div>

                <div class="d-flex justify-content-between mt-4">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    id="prevBtn"
                    disabled
                  >
                    Trước
                  </button>
                  <button type="button" class="btn btn-primary" id="nextBtn">
                    Tiếp theo
                  </button>
                  <button
                    type="submit"
                    class="btn btn-success d-none"
                    id="submitBtn"
                  >
                    Đăng ký
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // JavaScript for stepper functionality
      let currentStep = 1;
      const steps = document.querySelectorAll(".step");
      const stepIndicators = document.querySelectorAll(".stepper-item");
      const nextBtn = document.getElementById("nextBtn");
      const prevBtn = document.getElementById("prevBtn");
      const submitBtn = document.getElementById("submitBtn");

      nextBtn.addEventListener("click", () => {
        if (currentStep < steps.length) {
          steps[currentStep - 1].classList.add("d-none");
          steps[currentStep].classList.remove("d-none");
          currentStep++;
          updateButtons();
          updateStepIndicator();
        }
      });

      prevBtn.addEventListener("click", () => {
        if (currentStep > 1) {
          steps[currentStep - 1].classList.add("d-none");
          steps[currentStep - 2].classList.remove("d-none");
          currentStep--;
          updateButtons();
          updateStepIndicator();
        }
      });

      function updateButtons() {
        prevBtn.disabled = currentStep === 1;
        nextBtn.classList.toggle("d-none", currentStep === steps.length);
        submitBtn.classList.toggle("d-none", currentStep !== steps.length);
      }

      function updateStepIndicator() {
        stepIndicators.forEach((indicator, index) => {
          if (index < currentStep - 1) {
            indicator.classList.add("completed");
            indicator.classList.remove("active");
          } else if (index === currentStep - 1) {
            indicator.classList.add("active");
            indicator.classList.remove("completed");
          } else {
            indicator.classList.remove("active", "completed");
          }
        });
      }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  </body>
</html>
